# Venue Database System Overview

## Current Status
- **Total Venues**: 19
- **Emails Sent**: 18 (17 scheduled for Oct 8 @ 8AM, 1 sent immediately)
- **Map Status**: Auto-updating, live with all 19 venues
- **Last Updated**: 2025-10-07

## System Architecture

### 1. Data Storage
```
venues/
├── [City-VenueName]/
│   ├── [City-VenueName].md    # YAML-only venue data
│   └── email-thread.md         # Email correspondence tracking
├── rolodex.json                # Single source of truth (contacts + all data)
├── venue-map.html              # Auto-generated interactive map
├── UPDATE-MAP.sh               # Manual map update trigger
├── README.md                   # Full documentation
└── _TEMPLATE.md                # Template for new venues
```

### 2. Auto-Update System

**Trigger**: Any update to `rolodex.json`
**Action**: Automatically regenerates `venue-map.html`
**How**: Run `./UPDATE-MAP.sh` after modifying rolodex

**Backend Scripts** (in `~/.claude/direct-access-tools/venues/`):
- `sync-rolodex.py` - Main map generator (reads rolodex → writes HTML)
- `auto-update-wrapper.py` - Python helper for programmatic updates

### 3. Workflow for Adding a Venue

**Manual Process:**
1. Research venue (use rsrch agent)
2. Create folder: `mkdir venues/City-VenueName/`
3. Create venue file: `City-VenueName/City-VenueName.md` (YAML-only)
4. Add to `rolodex.json` (with coordinates)
5. Run `./UPDATE-MAP.sh` to regenerate map
6. Create email thread: `City-VenueName/email-thread.md`
7. Send inquiry email (use Outlook DAT)
8. Update email thread with sent email

**Programmatic Process:**
```python
# Use auto-update wrapper to handle rolodex + map sync
from auto_update_wrapper import update_rolodex_and_sync

def add_venue(rolodex):
    new_venue = {
        "venue_id": "City-VenueName",
        "venue_name": "Venue Name",
        # ... complete venue data ...
        "coordinates": {"lat": 42.xxxx, "lng": -71.xxxx}
    }
    rolodex['venues'].append(new_venue)
    rolodex['total_venues'] = len(rolodex['venues'])
    return rolodex

update_rolodex_and_sync('path/to/rolodex.json', add_venue)
# Map automatically regenerates
```

## File Purposes

### Core Files
- **rolodex.json** - Master database with all venue info + contacts + coordinates
- **venue-map.html** - Interactive Leaflet.js map (auto-generated, don't edit manually)
- **UPDATE-MAP.sh** - Simple script to regenerate map from rolodex

### Venue Files (YAML-only format)
Each venue has complete data in YAML frontmatter:
- Basic info: venue_id, venue_name, address, city, state, neighborhood
- Contact: phone, email, website, instagram, facebook
- Details: venue_type, capacity, management_group
- Venue specs: layout, technical_capabilities, atmosphere
- Events: private_events, typical_events_hosted, operating_schedule
- Services: services_amenities, public_transit, parking
- Assessment: strengths, considerations
- Meta: notes, tags

### Email Threads
Track all correspondence per venue:
- Thread metadata (recipients, status)
- Full email history (sent/received)
- Notes and next steps

## Interactive Map Features

**Map displays:**
- 🟠 Orange markers for each venue with coordinates
- 🖱️ Hover tooltips: venue name, capacity, type, neighborhood
- 🖱️ Click popups: full details (address, phone, website)
- 🗺️ Auto-zoom to fit all markers
- 🌙 Dark theme matching Obsidian

**Map updates:**
- Reads from: `rolodex.json`
- Generated by: `sync-rolodex.py`
- Trigger: `./UPDATE-MAP.sh`
- Output: `venue-map.html`

## Email Outreach Status

**Template Used:**
- Subject: "HBS Halloween Party - Private Event Inquiry (10/31/25, 200 guests)"
- Event: Friday, October 31, 2025, 10PM-2AM
- Expected attendance: ~200 guests (flexible)
- Entertainment: Own DJ

**Venues Contacted (18/19):**
1. ✅ BSMNT - Sent 10/7
2. 📅 Big Night Live - Scheduled 10/8 @ 8AM
3. 📅 The Grand - Scheduled 10/8 @ 8AM
4. 📅 Royale - Scheduled 10/8 @ 8AM
5. 📅 Bijou - Scheduled 10/8 @ 8AM
6. 📅 Mémoire - Scheduled 10/8 @ 8AM
7. 📅 ICON - Scheduled 10/8 @ 8AM
8. ⏸️ The Estate - Phone only (no email)
9. 📅 The Middle East - Scheduled 10/8 @ 8AM
10. 📅 The Sinclair - Scheduled 10/8 @ 8AM
11. 📅 Paradise Rock Club - Scheduled 10/8 @ 8AM
12. 📅 Candibar - Scheduled 10/8 @ 8AM
13. 📅 The Harp - Scheduled 10/8 @ 8AM
14. 📅 Club Café - Scheduled 10/8 @ 8AM
15. 📅 Brighton Music Hall - Scheduled 10/8 @ 8AM
16. 📅 Once Ballroom - Scheduled 10/8 @ 8AM
17. 📅 The Crystal Ballroom - Scheduled 10/8 @ 8AM
18. 📅 Hue - Scheduled 10/8 @ 8AM
19. ✅ Cantab Lounge - Sent 10/7

## System Maintenance

**Regular Tasks:**
- Update email threads as responses come in
- Run `./UPDATE-MAP.sh` after adding new venues
- Keep rolodex.json as single source of truth

**No Manual Editing Required:**
- `venue-map.html` (auto-generated)
- HTML comment shows: "AUTO-GENERATED from rolodex.json - DO NOT EDIT MANUALLY"

**Orphaned Files Removed:**
- All temporary Python scripts from `/tmp/`
- Old `regenerate-map.py` (replaced by `sync-rolodex.py`)

## Next Steps

1. **Monitor Email Responses** (starting Oct 8)
   - Check inbox for venue replies
   - Update email-thread.md for each venue
   - Track pricing/availability info

2. **Venue Selection** (after responses)
   - Compare pricing across venues
   - Consider capacity constraints
   - Evaluate location/transit access
   - Book preferred venue

3. **Future Enhancements**
   - Color-code map markers by response status
   - Add pricing data to rolodex
   - Create comparison dashboard
